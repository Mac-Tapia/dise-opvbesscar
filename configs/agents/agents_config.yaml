agents:
  sac:
    name: "Soft Actor-Critic"
    type: "off-policy"
    enabled: true

  ppo:
    name: "Proximal Policy Optimization"
    type: "on-policy"
    enabled: true

  a2c:
    name: "Advantage Actor-Critic"
    type: "on-policy"
    enabled: true

training:
  episodes: 3
  max_timesteps: 26280  # 3 complete years × 8,760 hours (required for seasonal pattern learning)
  evaluation_frequency: 1
  checkpoint_frequency: 1000

environment:
  episode_length: 8760  # 1 year in hours
  time_step_minutes: 60

# Reward weights (2026-02-07 - UNIFIED NOMENCLATURE)
reward_weights:
  co2: 0.35              # Primary: CO₂ grid minimization
  solar: 0.20            # Secondary: Solar self-consumption
  ev: 0.30               # PRIMARY PRIORITY: EV satisfaction (charge completion)
  cost: 0.10             # Tertiary: Cost optimization
  grid: 0.05             # Tertiary: Grid stability
  # NOTE: Total = 1.00 (sum verified: 0.35+0.20+0.30+0.10+0.05)

# Infrastructure (v5.5 - 2026-02-13 - Dual EV + MALL discharge)
infrastructure:
  solar_capacity_kwp: 4050
  bess_capacity_kwh: 1700   # v5.5: 1700 kWh nominal (1360 kWh usable @ 20-100% SOC)
  bess_power_kw: 400        # v5.5: 0.235 C-rate (ACTUALIZADO de 342 kW)
  bess_min_soc_percent: 20.0  # v5.5: Hard constraint @ 22h closing
  num_chargers: 19                    # 19 cargadores (motos, DATOS REALES 2024)
  num_sockets: 38                     # 19 × 2 = 38 tomas (38 motos, 0 mototaxis)
  charger_power_kw_per_socket: 7.4    # Modo 3 monofásico 32A @ 230V

# CO2 context
co2_context:
  region: "Iquitos"
  country: "Peru"
  grid_co2_intensity: 0.4521  # kg CO2/kWh

# Data paths (v5.5 - Source of truth en data/oe2/)
data:
  solar: "data/oe2/Generacionsolar/pv_generation_citylearn2024.csv"
  bess: "data/oe2/bess/bess_ano_2024.csv"  # v5.5: SOC @ 22h = 20%, MALL discharge +78.8%
  chargers: "data/oe2/chargers/chargers_ev_ano_2024_v3.csv"
  mall_demand: "data/oe2/demandamallkwh/demandamallhorakwh.csv"

outputs:
  checkpoints_dir: "outputs/checkpoints"
  agents_dir: "outputs/agents"
  results_dir: "outputs/results"
