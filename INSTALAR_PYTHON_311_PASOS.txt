# INSTALA PYTHON 3.11 Y EJECUTA A2C - PASOS EXACTOS

## PASO 1: Descargar Python 3.11

1. Abre: https://www.python.org/downloads/
2. Busca **Python 3.11** (deberías ver algo como "Python 3.11.x" - la última versión 3.11)
3. Descarga el instalador de Windows (64-bit recommended)
4. **EJECUTA el instalador**

## PASO 2: Instalar Python 3.11 - IMPORTANTE ⚠️

Cuando vea la pantalla de instalación:

✓ MARCA: "Add Python 3.11 to PATH"
✓ MARCA: "Install for all users" (si tienes permiso admin)
✓ Instala en: `C:\Python311`
✓ Completa la instalación

**LUEGO: Cierra y reabre PowerShell/Terminal**

## PASO 3: Verifica que Python 3.11 está disponible

Abre PowerShell y ejecuta:

```powershell
python3.11 --version
```

Deberías ver: `Python 3.11.x` (algún número en x)

## PASO 4: Ejecuta el script de configuración

En PowerShell, navega a la carpeta del proyecto:

```powershell
cd d:\diseñopvbesscar
```

Ejecuta el script de instalación:

```powershell
.\INSTALAR_PYTHON_311.ps1
```

Si ves error de ejecución, ejecuta primero:

```powershell
Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser
```

Luego vuelve a ejecutar:

```powershell
.\INSTALAR_PYTHON_311.ps1
```

## PASO 5: Verifica que el venv está activado

Después de que el script termine, deberías ver en PowerShell:

```
(.venv) PS D:\diseñopvbesscar>
```

(El `(.venv)` al inicio indica que está activado)

## PASO 6: Ejecuta A2C

Una vez activado el venv, ejecuta:

```powershell
python -m scripts.run_a2c_only --config configs/default.yaml
```

## ✓ Verificación de Éxito

Verás algo como:

```
================================================================================
ENTRENAMIENTO A2C SOLAMENTE
================================================================================

[1/5] Validando Python 3.11...
      ✓ Python 3.11.x detectado
[2/5] Cargando configuración...
      ✓ config loaded from configs/default.yaml
[3/5] Construyendo dataset CityLearn...
      ✓ Schema: outputs/schema_building.json (128 chargers, 8,760 timesteps)
[4/5] Ejecutando baseline (sin control)...
      ✓ Baseline complete: CO2=10,200 kg/year
[5/5] Entrenando A2C (esto tarda ~30-60 min con GPU)...
      Episode 1 | Reward: -1200 | CO2: 9,800 kg | Steps: 8760
      Episode 2 | Reward: -1050 | CO2: 9,500 kg | Steps: 8760
      ...
```

## ❌ Si ves errores:

### Error: "Python 3.11 no encontrado"
- Python 3.11 no está en PATH
- Reinstala Python 3.11 y marca "Add to PATH"
- Reabre PowerShell

### Error: "No se puede ejecutar el script"
- Ejecuta primero: `Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser`
- Vuelve a intentar

### Error: "ModuleNotFoundError: No module named 'x'"
- El venv no instaló dependencias correctamente
- Ejecuta: `pip install -r requirements-training.txt`

### Error: "Python 3.13" o versión incorrecta
- El venv está usando la versión equivocada
- Elimina `.venv`: `Remove-Item -Recurse .venv`
- Crea uno nuevo: `python3.11 -m venv .venv`
- Activa: `.\.venv\Scripts\Activate.ps1`

## ✓ Checklist Final

- [ ] Python 3.11 descargado e instalado
- [ ] Python 3.11 está en PATH
- [ ] Script `INSTALAR_PYTHON_311.ps1` ejecutado exitosamente
- [ ] venv está activado (ves `(.venv)` en PowerShell)
- [ ] A2C se inicia correctamente

**Una vez completado: A2C estará entrenando y el schema estará conectado.**
