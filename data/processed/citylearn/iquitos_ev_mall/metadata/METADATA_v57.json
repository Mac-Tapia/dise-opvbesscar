{
  "version": "5.7",
  "date": "2026-02-14",
  "directories": {
    "oe2_solar": "data\\oe2\\Generacionsolar",
    "oe2_bess": "data\\oe2\\bess",
    "oe2_chargers": "data\\oe2\\chargers",
    "oe2_demand": "data\\oe2\\demandamallkwh",
    "interim_solar": "data\\interim\\oe2\\solar",
    "interim_bess": "data\\interim\\oe2\\bess",
    "interim_chargers": "data\\interim\\oe2\\chargers",
    "interim_demand": "data\\interim\\oe2\\demandamallkwh",
    "citylearn_processed": "data\\processed\\citylearn\\iquitos_ev_mall",
    "citylearn_observations": "data\\processed\\citylearn\\iquitos_ev_mall\\observations",
    "citylearn_rewards": "data\\processed\\citylearn\\iquitos_ev_mall\\rewards",
    "citylearn_metadata": "data\\processed\\citylearn\\iquitos_ev_mall\\metadata",
    "checkpoints_root": "checkpoints",
    "checkpoints_sac": "checkpoints\\SAC",
    "checkpoints_ppo": "checkpoints\\PPO",
    "checkpoints_a2c": "checkpoints\\A2C",
    "checkpoints_baseline": "checkpoints\\Baseline",
    "logs_root": "logs",
    "logs_training": "logs\\training",
    "logs_evaluation": "logs\\evaluation",
    "outputs_root": "outputs",
    "outputs_results": "outputs\\results",
    "outputs_baselines": "outputs\\baselines",
    "outputs_analysis": "outputs\\analysis",
    "configs_root": "configs"
  },
  "required_files": {
    "solar_file": "data\\oe2\\Generacionsolar\\pv_generation_hourly_citylearn_v2.csv",
    "bess_file": "data\\oe2\\bess\\bess_ano_2024.csv",
    "chargers_file": "data\\oe2\\chargers\\chargers_ev_ano_2024_v3.csv",
    "demand_file": "data\\oe2\\demandamallkwh\\demandamallhorakwh.csv",
    "solar_rows": 8760,
    "solar_columns": 16,
    "bess_rows": 8760,
    "bess_capacity_kwh": 1700.0,
    "chargers_rows": 8760,
    "chargers_count": 19,
    "chargers_sockets": 38,
    "demand_rows": 8785,
    "demand_baseline_kw": 100.0
  },
  "observation_specs": {
    "156_standard": {
      "version": "156_standard",
      "dimension": 156,
      "description": "Est\u00e1ndar CityLearn v2 (5.3)",
      "columns": [
        "solar_irradiance_w_m2",
        "bess_soc_percent",
        "bess_power_kw",
        "bess_capacity_kwh",
        "bess_max_power_kw",
        "bess_min_soc_percent",
        "socket_0_power_kw",
        "socket_1_power_kw",
        "socket_2_power_kw",
        "socket_3_power_kw",
        "socket_4_power_kw",
        "socket_5_power_kw",
        "socket_6_power_kw",
        "socket_7_power_kw",
        "socket_8_power_kw",
        "socket_9_power_kw",
        "socket_10_power_kw",
        "socket_11_power_kw",
        "socket_12_power_kw",
        "socket_13_power_kw",
        "socket_14_power_kw",
        "socket_15_power_kw",
        "socket_16_power_kw",
        "socket_17_power_kw",
        "socket_18_power_kw",
        "socket_19_power_kw",
        "socket_20_power_kw",
        "socket_21_power_kw",
        "socket_22_power_kw",
        "socket_23_power_kw",
        "socket_24_power_kw",
        "socket_25_power_kw",
        "socket_26_power_kw",
        "socket_27_power_kw",
        "socket_28_power_kw",
        "socket_29_power_kw",
        "socket_30_power_kw",
        "socket_31_power_kw",
        "socket_32_power_kw",
        "socket_33_power_kw",
        "socket_34_power_kw",
        "socket_35_power_kw",
        "socket_36_power_kw",
        "socket_37_power_kw",
        "ev_demand_total_kw",
        "ev_energy_required_kwh",
        "ev_chargers_available",
        "mall_demand_kw",
        "mall_soc_percent",
        "hour",
        "day_of_week",
        "month",
        "day_of_month",
        "is_weekday",
        "hour_sin",
        "hour_cos",
        "month_sin",
        "month_cos",
        "grid_frequency_hz",
        "grid_co2_factor_kg_kwh",
        "tariff_applied_soles_per_kwh",
        "prev_solar_w_m2",
        "prev_bess_soc_percent",
        "prev_ev_power_kw"
      ]
    },
    "246_cascada": {
      "version": "246_cascada",
      "dimension": 246,
      "description": "Con cascada de comunicaci\u00f3n (6.0)",
      "columns": [
        "solar_irradiance_w_m2",
        "bess_soc_percent",
        "bess_power_kw",
        "bess_capacity_kwh",
        "bess_max_power_kw",
        "bess_min_soc_percent",
        "socket_0_power_kw",
        "socket_1_power_kw",
        "socket_2_power_kw",
        "socket_3_power_kw",
        "socket_4_power_kw",
        "socket_5_power_kw",
        "socket_6_power_kw",
        "socket_7_power_kw",
        "socket_8_power_kw",
        "socket_9_power_kw",
        "socket_10_power_kw",
        "socket_11_power_kw",
        "socket_12_power_kw",
        "socket_13_power_kw",
        "socket_14_power_kw",
        "socket_15_power_kw",
        "socket_16_power_kw",
        "socket_17_power_kw",
        "socket_18_power_kw",
        "socket_19_power_kw",
        "socket_20_power_kw",
        "socket_21_power_kw",
        "socket_22_power_kw",
        "socket_23_power_kw",
        "socket_24_power_kw",
        "socket_25_power_kw",
        "socket_26_power_kw",
        "socket_27_power_kw",
        "socket_28_power_kw",
        "socket_29_power_kw",
        "socket_30_power_kw",
        "socket_31_power_kw",
        "socket_32_power_kw",
        "socket_33_power_kw",
        "socket_34_power_kw",
        "socket_35_power_kw",
        "socket_36_power_kw",
        "socket_37_power_kw",
        "ev_demand_total_kw",
        "ev_energy_required_kwh",
        "ev_chargers_available",
        "mall_demand_kw",
        "mall_soc_percent",
        "hour",
        "day_of_week",
        "month",
        "day_of_month",
        "is_weekday",
        "hour_sin",
        "hour_cos",
        "month_sin",
        "month_cos",
        "grid_frequency_hz",
        "grid_co2_factor_kg_kwh",
        "tariff_applied_soles_per_kwh",
        "prev_solar_w_m2",
        "prev_bess_soc_percent",
        "prev_ev_power_kw",
        "socket_0_soc_percent",
        "socket_1_soc_percent",
        "socket_2_soc_percent",
        "socket_3_soc_percent",
        "socket_4_soc_percent",
        "socket_5_soc_percent",
        "socket_6_soc_percent",
        "socket_7_soc_percent",
        "socket_8_soc_percent",
        "socket_9_soc_percent",
        "socket_10_soc_percent",
        "socket_11_soc_percent",
        "socket_12_soc_percent",
        "socket_13_soc_percent",
        "socket_14_soc_percent",
        "socket_15_soc_percent",
        "socket_16_soc_percent",
        "socket_17_soc_percent",
        "socket_18_soc_percent",
        "socket_19_soc_percent",
        "socket_20_soc_percent",
        "socket_21_soc_percent",
        "socket_22_soc_percent",
        "socket_23_soc_percent",
        "socket_24_soc_percent",
        "socket_25_soc_percent",
        "socket_26_soc_percent",
        "socket_27_soc_percent",
        "socket_28_soc_percent",
        "socket_29_soc_percent",
        "socket_30_soc_percent",
        "socket_31_soc_percent",
        "socket_32_soc_percent",
        "socket_33_soc_percent",
        "socket_34_soc_percent",
        "socket_35_soc_percent",
        "socket_36_soc_percent",
        "socket_37_soc_percent",
        "charger_0_status",
        "charger_1_status",
        "charger_2_status",
        "charger_3_status",
        "charger_4_status",
        "charger_5_status",
        "charger_6_status",
        "charger_7_status",
        "charger_8_status",
        "charger_9_status",
        "charger_10_status",
        "charger_11_status",
        "charger_12_status",
        "charger_13_status",
        "charger_14_status",
        "charger_15_status",
        "charger_16_status",
        "charger_17_status",
        "charger_18_status",
        "queue_motos_waiting",
        "queue_taxis_waiting",
        "avg_socket_temp_c",
        "system_efficiency_percent",
        "forecast_solar_24h_kwh",
        "forecast_demand_24h_kw",
        "historical_co2_factor_avg",
        "net_metering_kwh"
      ]
    },
    "66_expanded": {
      "version": "66_expanded",
      "dimension": 66,
      "description": "Expandido experimental",
      "columns": [
        "solar_irradiance_w_m2",
        "solar_forecast_24h_avg",
        "bess_soc_percent",
        "bess_power_kw",
        "bess_capacity_kwh",
        "bess_max_power_kw",
        "bess_min_soc_percent",
        "chargers_avg_power_kw",
        "chargers_total_connected",
        "chargers_motos_plugged",
        "chargers_taxis_plugged",
        "chargers_max_power_kw",
        "ev_demand_total_kw",
        "ev_energy_required_kwh",
        "ev_chargers_available",
        "mall_demand_kw",
        "mall_demand_forecast_4h",
        "mall_soc_percent",
        "hour",
        "day_of_week",
        "month",
        "day_of_month",
        "is_weekday",
        "hour_sin",
        "hour_cos",
        "month_sin",
        "month_cos",
        "is_leap_year",
        "grid_frequency_hz",
        "grid_co2_factor_kg_kwh",
        "tariff_applied_soles_per_kwh",
        "grid_voltage_nominal",
        "prev_solar_w_m2",
        "prev_bess_soc_percent",
        "prev_ev_power_kw",
        "prev_grid_import_kw",
        "prev_cost_soles",
        "prev_co2_kg",
        "prev_reward",
        "system_efficiency_percent",
        "net_co2_reduction_kg_cumulative",
        "cost_cumulative_soles",
        "pv_selfconsumption_percent",
        "bess_cycles_count",
        "avg_ev_soc_percent"
      ]
    }
  },
  "reward_spec": {
    "name": "Multiobjetivo_Iquitos_v5.3",
    "components": [
      {
        "name": "co2_reduction",
        "weight": 0.3,
        "description": "Minimizar importaci\u00f3n grid (evitar CO\u2082 indirecto)",
        "formula": "r_co2 = -grid_import_kwh \u00d7 CO2_FACTOR / MAX_GRID",
        "range": [
          -1.0,
          1.0
        ]
      },
      {
        "name": "ev_satisfaction",
        "weight": 0.35,
        "description": "Satisfacci\u00f3n de carga de EVs",
        "formula": "r_ev = 2\u00d7tanh(energy_charged_ratio) - 1",
        "range": [
          -1.0,
          1.0
        ]
      },
      {
        "name": "solar_selfconsumption",
        "weight": 0.2,
        "description": "Maximizar autoconsumo solar",
        "formula": "r_solar = solar_direct / solar_generation",
        "range": [
          -1.0,
          1.0
        ]
      },
      {
        "name": "cost_minimization",
        "weight": 0.1,
        "description": "Minimizar costo el\u00e9ctrico",
        "formula": "r_cost = -cost_per_hour / MAX_COST_HP",
        "range": [
          -1.0,
          1.0
        ]
      },
      {
        "name": "grid_stability",
        "weight": 0.05,
        "description": "Estabilidad de red (suavidad de rampas)",
        "formula": "r_grid = -|P_t - P_t-1| / MAX_RAMP",
        "range": [
          -1.0,
          1.0
        ]
      }
    ],
    "weights": {
      "co2_reduction": 0.3,
      "ev_satisfaction": 0.35,
      "solar_selfconsumption": 0.2,
      "cost_minimization": 0.1,
      "grid_stability": 0.05
    }
  },
  "agent_requirements": {
    "SAC": {
      "agent_type": "SAC",
      "observation_dim": 156,
      "action_dim": 39,
      "min_steps": 26280,
      "batch_size": 64,
      "learning_rate": 0.0002,
      "required_memory_gb": 2.0,
      "estimated_training_hours_gpu": 6.5,
      "checkpoint_freq_steps": 10000,
      "save_best_only": true,
      "config_file": null
    },
    "PPO": {
      "agent_type": "PPO",
      "observation_dim": 156,
      "action_dim": 39,
      "min_steps": 26280,
      "batch_size": 128,
      "learning_rate": 0.0003,
      "required_memory_gb": 2.5,
      "estimated_training_hours_gpu": 5.5,
      "checkpoint_freq_steps": 10000,
      "save_best_only": true,
      "config_file": "configs\\ppo_config.yaml"
    },
    "A2C": {
      "agent_type": "A2C",
      "observation_dim": 156,
      "action_dim": 39,
      "min_steps": 26280,
      "batch_size": 32,
      "learning_rate": 0.00025,
      "required_memory_gb": 1.5,
      "estimated_training_hours_gpu": 4.5,
      "checkpoint_freq_steps": 15000,
      "save_best_only": true,
      "config_file": null
    }
  }
}